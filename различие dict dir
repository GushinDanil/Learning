Хитрость заключается в том, чтобы вместо
сканирования словаря __dict__ экземпляра использовать встроенную функ-
цию dir, – словарь хранит только атрибуты экземпляра, а функция dir, начи-
ная с версии Python 2.2, возвращает список всех унаследованных атрибутов.